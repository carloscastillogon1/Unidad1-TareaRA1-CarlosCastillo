{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"PPS Unidad 1 \u2013 Tarea RA1","text":"<p>Carlos Castillo</p> <p>En esta p\u00e1gina se recoge la estructura y acceso a la documentaci\u00f3n de la Tarea RA1.</p>"},{"location":"#indice","title":"\u00cdndice","text":"<ul> <li>Elementos de Python</li> <li>Ejecuci\u00f3n y Depuraci\u00f3n</li> <li>Pruebas</li> <li>Ejecuci\u00f3n en Sandbox</li> <li>Reflexi\u00f3n</li> </ul>"},{"location":"ejecucion/","title":"En esta secci\u00f3n. lo que vamos a realizar es la depuraci\u00f3n del c\u00f3digo y la ejecuci\u00f3n del mismo, de esta forma, podremos observar sus errores y corregirlos.","text":"<p>El primer paso ser\u00e1 abrir el Visual Studio Code. Una vez dentro, seleccionaremos la carpeta donde se encuentra la app:</p> <p></p> <p>Una vez abierta la carpeta donde se encuentra la app, la cual es main_app.py, lo que haremos ser\u00e1 ejecutarla, para ello, clickamos en el boton de play situado en la esquina superior derecha:</p> <p></p> <p>Pero antes de ejecutarlo, lo que debemos hacer es leer las premisas con las cuales se ha dise\u00f1ado la app, y corregir los errores que encontremos en el c\u00f3digo, debido a que si ejecutamos la app as\u00ed, nos saldr\u00e1 un error bastante r\u00e1pido. </p>"},{"location":"ejecucion/#solucion-de-errores","title":"Soluci\u00f3n de errores:","text":"<p>Por lo tanto, lo que vamos a hacer es corregir los errores, y despu\u00e9s, probaremos a ejecutar la app a ver si todo funciona correctamente:</p> <ul> <li> <p>Error 1: RuntimeError</p> <p></p> </li> </ul> <p>Como podemos observar, aparece un RuntimeError cuando el lavadero est\u00e1 ocupado, mientras las premisas con las cuales se crearon la app nos indica: Cuando se    intenta hacer un lavado mientras que otro ya est\u00e1 en marcha, se produce una ValueError.</p> <p>Para corregir este error, simplemente cambiamos RuntimeError por ValueError:</p> <p></p> <ul> <li>Error 2: Error en tarifas de secado a mano y encerado</li> </ul> <p>Seg\u00fan las premisas del enunciado del ejercicio, la suma de lavado + secado a mano reportar\u00eda al lavadero unas ganancias de 6\u20ac, si a esto le a\u00f1adimos    encerado, ser\u00eda un total de 7,20\u20ac.</p> <p>Esto quiere decir que el precio del secado a mano debe ser de 1\u20ac, mientras que el del encerado debe ser de 1,20\u20ac.</p> <p>El error est\u00e1 en que en el c\u00f3digo, las tarifas vienen al rev\u00e9s, costando 1,20\u20ac el secado a mano y 1\u20ac el encerado:</p> <p></p> <p>Para corregir este error, simplemente lo que haremos ser\u00e1 cambiar estos valores, como antes he mencionado, el valor del secado a mano le corresponde al valor    del encerado y viceversa:</p> <p></p> <ul> <li>Error 3: Error de l\u00f3gica en fase de secado a mano y autom\u00e1tico</li> </ul> <p>En el c\u00f3digo, aparece un error en la transici\u00f3n de una fase a otra. Seg\u00fan el c\u00f3digo, cuando estamos en la fase de rodillos, si seleccionamos secado a    mano, nos lleva a secado autom\u00e1tico. Esto en ning\u00fan caso deber\u00eda de ser as\u00ed, puesto que si seleccionamos secado a mano, deber\u00edamos ir a    secado    a mano:</p> <p></p> <p>Para solucionar esto, cambiaremos la parte donde se encuentra self.__fase = self.FASE_SECADO_AUTOMATICO y la pondremos donde est\u00e1 el self.__fase =    self.FASE_SECADO_MANO:</p> <p></p> <ul> <li>Error 4: Interrupci\u00f3n hacia el encerado</li> </ul> <p>Como podemos observar en el c\u00f3digo proporcionado, siempre que seleccionamos secado a mano, se llama a terminar. Esto no deber\u00eda ser as\u00ed, ya que nos    deber\u00eda dar opci\u00f3n a pasar al encerado:</p> <p></p> <p>Para solucionarlo, debemos a\u00f1adir la opci\u00f3n de que nos deje acceder a la fase 8, la cual es encerado:</p> <p></p> <ul> <li>Error 5: Funci\u00f3n ejecutar_y_obtener_fases est\u00e1 fuera de la clase</li> </ul> <p>Aunque como menciona el c\u00f3digo, esta funci\u00f3n no es parte del lavadero real, a\u00fan as\u00ed, no se encuentra identada a la clase. \u00bfQu\u00e9 problema ocasionar\u00e1 esto? Pues    Que al usar self, el int\u00e9rprete fallar\u00e1 porque no la reconoce como parte de Lavadero:</p> <p></p> <p>Para solucionar esto, debemos mover el bloque hacia la derecha para que coincida con la identaci\u00f3n de la clase:</p> <p></p> <p>Como podemos observar, ahora s\u00ed se encuentra bien identado y ser\u00e1 reconocible.</p> <ul> <li>Error 6: Referencia a M\u00e9todo Inexistente</li> </ul> <p>En este mismo bloque de c\u00f3digo que acabamos de corregir, se hace referencia a un m\u00f3dulo que no existe, el cual es _hacer_lavado. Este m\u00f3dulo es    incorrecto, el m\u00f3dulo correcto ser\u00eda hacerLavado:</p> <p></p> <p>Para corregirlo, simplemente lo cambiamos a hacerLavado</p> <p></p>"},{"location":"ejecucion/#ejecucion-del-codigo","title":"Ejecuci\u00f3n del c\u00f3digo","text":"<p>Con las correcciones ya hechas, podemos pasar a ejecutar el c\u00f3digo, a ver si nos proporciona fallos. Para ello, debemos ir al main_app.py, el cual   ejecutar\u00e1 la aplicaci\u00f3n bas\u00e1ndose en el c\u00f3digo de Lavadero. Despu\u00e9s, haremos click en el bot\u00f3n de play situado en la esquina derecha superior de Visual:</p> <p></p> <p>Una vez ejecutado, podemos observar 3 cosas. Vamos por partes:</p> <ol> <li> <p>\u00c9xito en la L\u00f3gica de Negocio (Ejemplos 1 y 2)</p> <p>Ejemplo 1 (Todo incluido): Ha pasado por las fases 0, 1, 2, 3, 4, 5, 7, 8, 0. Los ingresos han sido 8.70 \u20ac. Esto coincide exactamente con las premisas  del enunciado (5.00 base + 1.50 prelavado + 1.00 secado + 1.20 encerado).</p> <p>Ejemplo 2 (Sin extras): Ha pasado por 0, 1, 3, 4, 5, 6, 0. Ha saltado la fase 2 (prelavado) y la fase 7-8 (manual/encerado), yendo directo a la 6  (autom\u00e1tico). Los ingresos acumulados subieron a 13.70 \u20ac (8.70 + 5.00). Esto quiere decir que la acumulaci\u00f3n funciona.</p> <p></p> <p></p> </li> </ol> <ol> <li> <p>Validaci\u00f3n de Errores (Ejemplo 3)</p> <p>El programa ha detectado que el cliente quer\u00eda encerado sin secado a mano y ha lanzado el ValueError con el mensaje: \"No se puede encerar el coche sin  secado a mano\". Esto demuestra que la correcci\u00f3n que hemos hecho con anterioridad al RuntimeError es correcta y lanza el mensaje correcto.</p> <p></p> </li> </ol> <ol> <li> <p>El error de Python (Ejemplo 4)</p> <p>Inesperadamente, el programa se ha detenido por un TypeError. Python nos se\u00f1ala: missing 1 required positional argument: 'encerado' Esto puede deberse a un  error en el main_app.py, el cual no hemos comprobado antes de ejecutarlo.</p> <p></p> <p>Echando un vistazo al main_app.py, parece ser que sucede porque la funci\u00f3n  ejecutarSimulacion espera 4 cosas y el ejemplo 4 solo le da 3. Habr\u00eda que corregir la siguiente l\u00ednea del main_app.py:</p> <p></p> <p>Parece ser que est\u00e1 definido as\u00ed: def ejecutarSimulacion(lavadero, prelavado, secado_mano, encerado):</p> <p>Esto quiere decir que se nos obliga a proporcionarle 4 argumentos s\u00ed o s\u00ed, pero en el Ejemplo 4 s\u00f3lo sxe proporcionan 3, ya que encerado=false. Por lo  tanto, va a dar un error ya que se queda esperando a dicho argumento.</p> <p>Para solucionar esto, lo que haremos es modificar dicha l\u00ednea, especificando que encerado tambi\u00e9n puede ser false:</p> <p></p> </li> </ol> <p>Ahora, podremos pasar a ejecutarlo. Con esta soluci\u00f3n que hemos realizado en esa l\u00ednea, no nos deber\u00eda dar ning\u00fan error y se deber\u00eda ejecutar al completo:</p> <p></p> <p>Como podemos comprobar, hemos logrado solucionar el error con el Ejemplo 4. </p> <ul> <li> <p>Al hacer el par\u00e1metro opcional (encerado=False), el programa ya no se   detiene.</p> </li> <li> <p>Los ingresos acumulados tambi\u00e9n son correctos, el Ejemplo 3 no suma dinero porque el error se detecta antes de cobrar, lo cual es el comportamiento   correcto en un sistema de cobro real.</p> </li> <li> <p>Todas las fases coinciden con las premisas que se indican en el enunciado.</p> </li> </ul>"},{"location":"pruebas/","title":"En este apartado, lo que vamos a realizar es una serie de test bas\u00e1ndonos en el enunciado de la tarea, el cual nos menciona una serie de 14 pruebas.","text":"<p>En la carpeta proporcionada en la tarea, se nos proporciona un ejemplo de test, pero este no nos servir\u00e1 de mucho, simplemente para fijarnos en como desarrollar m\u00e1s o menos las pruebas.</p> <p>Se nos menciona que el c\u00f3digo contiene errores, pero estos errores ya los hemos solucionado previamente, lo cual quiere decir que las pruebas no deber\u00edan arrojar ni un solo error, por lo que dichas pruebas nos van a servir para comprobar que el c\u00f3digo est\u00e1 perfectamente estructurado.</p>"},{"location":"pruebas/#14-test-basandonos-en-los-enunciados","title":"14 test bas\u00e1ndonos en los enunciados","text":"<p>1. Cuando se crea un lavadero, \u00e9ste no tiene ingresos, no est\u00e1 ocupado, est\u00e1 en fase 0 y todas las opciones de lavado    (prelavado a mano, secado a mano y encerado) est\u00e1n puestas a false.</p> <p></p> <p>2. Cuando se intenta comprar un lavado con encerado pero sin secado a mano, se produce una ValueError.</p> <p></p> <p>3. Cuando se intenta hacer un lavado mientras que otro ya est\u00e1 en marcha, se produce una ValueError.</p> <p></p> <p>4.Si seleccionamos un lavado con prelavado a mano, los ingresos de lavadero son 6,50\u20ac.</p> <p></p> <p>5.Si seleccionamos un lavado con secado a mano, los ingresos son 6,00\u20ac.</p> <p></p> <p>6.Si seleccionamos un lavado con secado a mano y encerado, los ingresos son 7,20\u20ac.</p> <p></p> <p>7.Si seleccionamos un lavado con prelavado a mano y secado a mano, los ingresos son 7,50\u20ac.</p> <p></p> <p>8.Si seleccionamos un lavado con prelavado a mano, secado a mano y encerado, los ingresos son 8,70\u20ac.</p> <p></p> <p>9.Si seleccionamos un lavado sin extras y vamos avanzando fases, el lavadero pasa por las fases 0, 1, 3, 4, 5, 6, 0.</p> <p></p> <p>10.Si seleccionamos un lavado con prelavado a mano y vamos avanzando fases, el lavadero pasa por las fases 0, 1, 2, 3, 4, 5, 6, 0.</p> <p></p> <p>11.Si seleccionamos un lavado con secado a mano y vamos avanzando fases, el lavadero pasa por las fases 0, 1, 3, 4, 5, 7, 0.</p> <p></p> <p>12.Si seleccionamos un lavado con secado a mano y encerado y vamos avanzando fases, el lavadero pasa por las fases 0, 1, 3, 4, 5, 7, 8, 0.</p> <p></p> <p>13.Si seleccionamos un lavado con prelavado a mano y secado a mano y vamos avanzando fases, el lavadero pasa por las fases 0, 1, 2, 3, 4, 5, 7, 0.</p> <p></p> <p>14.Si seleccionamos un lavado con prelavado a mano, secado a mano y encerado y vamos avanzando fases, el lavadero pasa por las fases 0, 1, 2, 3, 4, 5, 7, 8, 0.</p> <p></p>"},{"location":"pruebas/#ejecucion-del-test","title":"Ejecuci\u00f3n del test","text":"<p>Como he mencionado antes, vamos a ejecutar el test para verificar que todas las corrwcciones que hemos realizado con anterioridad dan soluci\u00f3n a todos los problemas.</p> <p>Para ejecutarlo, abriremos la consola, y escribiremos py test_lavadero_unittest.py -v:</p> <p></p>"},{"location":"python/","title":"C\u00f3digo Python \u2013 Simulaci\u00f3n de un Lavadero de Coches","text":""},{"location":"python/#introduccion","title":"Introducci\u00f3n","text":"<p>Este documento muestra el c\u00f3digo comentado del archivo <code>lavadero.py</code>. El objetivo del programa es simular el comportamiento de un t\u00fanel de lavado de coches, controlando:</p> <ul> <li>El estado del lavadero</li> <li>Las fases del lavado</li> <li>Las reglas de negocio</li> <li>El c\u00e1lculo de ingresos</li> </ul>"},{"location":"python/#conceptos-clave-del-diseno","title":"Conceptos clave del dise\u00f1o","text":"<p>Antes de analizar el c\u00f3digo, es importante comprender los siguientes conceptos:</p> <ul> <li>El lavadero solo puede atender a un coche a la vez</li> <li>Cada lavado sigue una secuencia fija de fases</li> <li>Algunas fases son opcionales</li> <li>El precio final depende de los servicios seleccionados</li> </ul>"},{"location":"python/#aqui-esta-el-codigo-comentado","title":"Aqu\u00ed est\u00e1 el C\u00f3digo Comentado","text":"<p>A continuaci\u00f3n se muestra el c\u00f3digo completo del lavadero, acompa\u00f1ado de comentarios detallados que explican el funcionamiento de cada parte.</p> <p>```python class Lavadero:     \"\"\"     Clase que representa un t\u00fanel de lavado de coches.</p> <pre><code>Se encarga de:\n- Controlar el estado interno del lavadero\n- Gestionar las fases del lavado\n- Validar reglas de negocio\n- Calcular y acumular los ingresos\n\nEl flujo del lavado se controla mediante una m\u00e1quina de estados.\n\"\"\"\n\n# CONSTANTES DE FASES, cada constante representa una fase del proceso de lavado.\n\n\nFASE_INACTIVO = 0\nFASE_COBRANDO = 1\nFASE_PRELAVADO_MANO = 2\nFASE_ECHANDO_AGUA = 3\nFASE_ENJABONANDO = 4\nFASE_RODILLOS = 5\nFASE_SECADO_AUTOMATICO = 6\nFASE_SECADO_MANO = 7\nFASE_ENCERADO = 8\n\ndef __init__(self):\n    \"\"\"\n    Constructor de la clase Lavadero.\n\n    Inicializa todas las variables internas del sistema.\n    El lavadero comienza sin coches y sin ingresos.\n    \"\"\"\n\n    # Dinero total acumulado por los lavados realizados\n    self.__ingresos = 0.0\n\n    # Fase actual del lavadero\n    self.__fase = self.FASE_INACTIVO\n\n    # Indica si el lavadero est\u00e1 ocupado por un coche\n    self.__ocupado = False\n\n    # Opciones del lavado actual\n    self.__prelavado_a_mano = False\n    self.__secado_a_mano = False\n    self.__encerado = False\n\n    # Se fuerza el estado inicial correcto\n    self.terminar()\n\n# PROPIEDADES: Permiten consultar el estado del lavadero sin permitir modificaciones externas.\n\n@property\ndef fase(self):\n    \"\"\"Devuelve la fase actual del lavadero.\"\"\"\n    return self.__fase\n\n@property\ndef ingresos(self):\n    \"\"\"Devuelve los ingresos acumulados.\"\"\"\n    return self.__ingresos\n\n@property\ndef ocupado(self):\n    \"\"\"Indica si el lavadero est\u00e1 ocupado.\"\"\"\n    return self.__ocupado\n\n@property\ndef prelavado_a_mano(self):\n    \"\"\"Indica si el lavado incluye prelavado a mano.\"\"\"\n    return self.__prelavado_a_mano\n\n@property\ndef secado_a_mano(self):\n    \"\"\"Indica si el lavado incluye secado a mano.\"\"\"\n    return self.__secado_a_mano\n\n@property\ndef encerado(self):\n    \"\"\"Indica si el lavado incluye encerado.\"\"\"\n    return self.__encerado\n\n# CONTROL DEL CICLO DE LAVADO\n\ndef terminar(self):\n    \"\"\"\n    Finaliza el ciclo de lavado.\n\n    Se usa cuando el coche ha terminado todas las fases.\n    El lavadero vuelve a quedar disponible.\n    \"\"\"\n    self.__fase = self.FASE_INACTIVO\n    self.__ocupado = False\n    self.__prelavado_a_mano = False\n    self.__secado_a_mano = False\n    self.__encerado = False\n\ndef hacerLavado(self, prelavado_a_mano, secado_a_mano, encerado):\n    \"\"\"\n    Inicia un nuevo ciclo de lavado.\n\n    Par\u00e1metros:\n    - prelavado_a_mano\n    - secado_a_mano\n    - encerado\n\n    Reglas de negocio:\n    - No se puede iniciar un lavado si el lavadero est\u00e1 ocupado\n    - No se puede encerar sin secado a mano\n    \"\"\"\n\n    # Regla 1: solo un coche a la vez\n    if self.__ocupado:\n        raise RuntimeError(\n            \"No se puede iniciar un nuevo lavado mientras el lavadero est\u00e1 ocupado\"\n        )\n\n    # Regla 2: no se permite encerado sin secado a mano\n    if not secado_a_mano and encerado:\n        raise ValueError(\n            \"No se puede encerar el coche sin secado a mano\"\n        )\n\n    # Se inicia el ciclo de lavado\n    self.__fase = self.FASE_INACTIVO\n    self.__ocupado = True\n    self.__prelavado_a_mano = prelavado_a_mano\n    self.__secado_a_mano = secado_a_mano\n    self.__encerado = encerado\n\n# COBRO DEL SERVICIO\n\ndef _cobrar(self):\n    \"\"\"\n    Calcula el coste del lavado seg\u00fan los servicios seleccionados.\n\n    Precio base: 5.00 \u20ac\n    Extras:\n    - Prelavado a mano: +1.50 \u20ac\n    - Secado a mano: +1.20 \u20ac\n    - Encerado: +1.00 \u20ac\n\n    Devuelve el importe cobrado.\n    \"\"\"\n    coste_lavado = 5.00\n\n    if self.__prelavado_a_mano:\n        coste_lavado += 1.50\n\n    if self.__secado_a_mano:\n        coste_lavado += 1.20\n\n    if self.__encerado:\n        coste_lavado += 1.00\n\n    # Se suman los ingresos al total\n    self.__ingresos += coste_lavado\n    return coste_lavado\n\n# M\u00c1QUINA DE ESTADOS\n\ndef avanzarFase(self):\n    \"\"\"\n    Avanza el lavadero a la siguiente fase del proceso.\n\n    Este m\u00e9todo debe llamarse repetidamente para simular\n    el avance del coche dentro del t\u00fanel de lavado.\n    \"\"\"\n\n    # Si no hay coche, no se hace nada\n    if not self.__ocupado:\n        return\n\n    # Fase 0: Cobro\n    if self.__fase == self.FASE_INACTIVO:\n        coste = self._cobrar()\n        self.__fase = self.FASE_COBRANDO\n        print(f\"(COBRADO: {coste:.2f} \u20ac)\", end=\"\")\n\n    # Fase 1: Prelavado o agua\n    elif self.__fase == self.FASE_COBRANDO:\n        if self.__prelavado_a_mano:\n            self.__fase = self.FASE_PRELAVADO_MANO\n        else:\n            self.__fase = self.FASE_ECHANDO_AGUA\n\n    # Fase 2: Agua\n    elif self.__fase == self.FASE_PRELAVADO_MANO:\n        self.__fase = self.FASE_ECHANDO_AGUA\n\n    # Fase 3: Jab\u00f3n\n    elif self.__fase == self.FASE_ECHANDO_AGUA:\n        self.__fase = self.FASE_ENJABONANDO\n\n    # Fase 4: Rodillos\n    elif self.__fase == self.FASE_ENJABONANDO:\n        self.__fase = self.FASE_RODILLOS\n\n    # Fase 5: Secado\n    elif self.__fase == self.FASE_RODILLOS:\n        if self.__secado_a_mano:\n            self.__fase = self.FASE_SECADO_AUTOMATICO\n        else:\n            self.__fase = self.FASE_SECADO_MANO\n\n    # Fases finales: Terminar\n    elif self.__fase in (\n        self.FASE_SECADO_AUTOMATICO,\n        self.FASE_SECADO_MANO,\n        self.FASE_ENCERADO\n    ):\n        self.terminar()\n\n    else:\n        raise RuntimeError(f\"Estado no v\u00e1lido: Fase {self.__fase}\")\n\n# M\u00c9TODOS DE SALIDA\n\ndef imprimir_fase(self):\n    \"\"\"Muestra por pantalla la fase actual.\"\"\"\n    fases_map = {\n        self.FASE_INACTIVO: \"0 - Inactivo\",\n        self.FASE_COBRANDO: \"1 - Cobrando\",\n        self.FASE_PRELAVADO_MANO: \"2 - Prelavado a mano\",\n        self.FASE_ECHANDO_AGUA: \"3 - Echando agua\",\n        self.FASE_ENJABONANDO: \"4 - Enjabonando\",\n        self.FASE_RODILLOS: \"5 - Rodillos\",\n        self.FASE_SECADO_AUTOMATICO: \"6 - Secado autom\u00e1tico\",\n        self.FASE_SECADO_MANO: \"7 - Secado a mano\",\n        self.FASE_ENCERADO: \"8 - Encerado\",\n    }\n    print(fases_map.get(self.__fase, \"Estado no v\u00e1lido\"), end=\"\")\n\ndef imprimir_estado(self):\n    \"\"\"Imprime el estado completo del lavadero.\"\"\"\n    print(\"----------------------------------------\")\n    print(f\"Ingresos acumulados: {self.ingresos:.2f} \u20ac\")\n    print(f\"Ocupado: {self.ocupado}\")\n    print(f\"Prelavado a mano: {self.prelavado_a_mano}\")\n    print(f\"Secado a mano: {self.secado_a_mano}\")\n    print(f\"Encerado: {self.encerado}\")\n    print(\"Fase: \", end=\"\")\n    self.imprimir_fase()\n    print(\"\\n----------------------------------------\")\n\n\n# M\u00c9TODO AUXILIAR PARA PRUEBAS / TESTS: Este m\u00e9todo NO forma parte del funcionamiento real del lavadero. Su \u00fanico prop\u00f3sito es facilitar pruebas unitarias y\n# comprobaciones autom\u00e1ticas del flujo de estados del sistema.\n\ndef ejecutar_y_obtener_fases(self, prelavado, secado, encerado):\n    \"\"\"\n    Ejecuta un ciclo completo de lavado y devuelve\n    una lista con todas las fases visitadas.\n\n    Este m\u00e9todo es muy \u00fatil para:\n    - Verificar que el flujo de estados es correcto\n    - Detectar errores en la m\u00e1quina de estados\n    - Realizar pruebas unitarias automatizadas\n\n    Par\u00e1metros:\n    - prelavado: indica si hay prelavado a mano\n    - secado: indica si hay secado a mano\n    - encerado: indica si hay encerado\n\n    Retorna:\n    - Lista de enteros con las fases visitadas\n    \"\"\"\n\n    # Se inicia el lavado con las opciones indicadas\n    self.hacerLavado(prelavado, secado, encerado)\n\n    # Se guarda la fase inicial\n    fases_visitadas = [self.fase]\n\n    # Mientras el lavadero est\u00e9 ocupado, seguimos avanzando fases\n    while self.ocupado:\n\n        # Medida de seguridad para evitar bucles infinitos\n        # en caso de que exista un error en la l\u00f3gica\n        if len(fases_visitadas) &gt; 15:\n            raise Exception(\n                \"Bucle infinito detectado en la simulaci\u00f3n de fases.\"\n            )\n\n        # Avanzamos a la siguiente fase\n        self.avanzarFase()\n\n        # Guardamos la nueva fase alcanzada\n        fases_visitadas.append(self.fase)\n\n    # Devolvemos la lista completa de fases recorridas\n    return fases_visitadas\n</code></pre>"}]}